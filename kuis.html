<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kuis EduLiterasi</title>
  <style>
    body { font-family:"Segoe UI", sans-serif; background:#f0f6ff; margin:0; padding:0; }
    header { background:#007bff; color:white; padding:10px 15px; text-align:center; font-size:20px; font-weight:bold; }
    .container { max-width:700px; margin:20px auto; background:white; padding:20px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
    h2 { text-align:center; color:#007bff; }
    button { width:100%; padding:12px; margin:8px 0; font-size:16px; border:none; border-radius:8px; cursor:pointer; background:#007bff; color:white; }
    button:hover { background:#0056b3; }
    .back-btn { display:inline-block; margin-top:15px; text-decoration:none; color:#007bff; font-weight:bold; }
    .question { margin-bottom:15px; }
    .options label { display:block; margin:5px 0; cursor:pointer; }
    .nav-btns { display:flex; justify-content:space-between; margin-top:15px; }
  </style>
</head>
<body>

<header>ðŸ“˜ Kuis EduLiterasi</header>

<div class="container" id="step-container">
  <!-- Step 1: Pilih Kelas -->
  <div id="step1">
    <h2>Pilih Jenjang Kelas</h2>
    <div id="kelas-buttons"></div>
  </div>

  <!-- Step 2: Pilih Mapel -->
  <div id="step2" style="display:none;">
    <h2>Pilih Mapel</h2>
    <div id="subject-buttons"></div>
    <button onclick="backToClass()">â¬… Kembali</button>
  </div>

  <!-- Step 3: Soal Kuis -->
  <div id="step3" style="display:none;">
    <h2 id="quiz-title"></h2>
    <div id="question-container"></div>
    <div class="nav-btns">
      <button onclick="prevQuestion()">â¬… Sebelumnya</button>
      <button onclick="nextQuestion()">Berikutnya âž¡</button>
    </div>
    <button onclick="submitQuiz()" style="margin-top:10px;">Kirim Jawaban</button>
    <div id="result" style="margin-top:15px; font-weight:bold; text-align:center;"></div>
    <button onclick="restartQuiz()" style="margin-top:10px;">â¬… Pilih Mapel Lagi</button>
  </div>
</div>

<a href="index.html" class="back-btn">â¬… Kembali ke Beranda</a>

<script>
  // Data kelas & mapel
  const classes = Array.from({length:12},(_,i)=>i+1);
  const subjects = ["Matematika","Ilmu Pengetahuan Alam","Ilmu Pengetahuan Sosial","Bahasa Indonesia","Bahasa Inggris"];

  const quizData = {}; // dummy soal

  // Buat dummy soal: 30 soal per mapel
  classes.forEach(cls=>{
    quizData[cls]={};
    subjects.forEach(sub=>{
      quizData[cls][sub]=[];
      for(let i=1;i<=30;i++){
        quizData[cls][sub].push({
          q: `Soal ${i} - Kelas ${cls} Mapel ${sub}`,
          options: ["A","B","C","D"],
          answer: "A"
        });
      }
    });
  });

  // Variabel global
  let selectedClass = null;
  let selectedSubject = null;
  let currentQuestion = 0;
  let userAnswers = [];

  // Step 1: Pilih Kelas
  const kelasContainer = document.getElementById("kelas-buttons");
  classes.forEach(cls=>{
    const btn = document.createElement("button");
    btn.textContent = "Kelas " + cls;
    btn.onclick = ()=>chooseClass(cls);
    kelasContainer.appendChild(btn);
  });

  function chooseClass(cls){
    selectedClass = cls;
    document.getElementById("step1").style.display="none";
    document.getElementById("step2").style.display="block";

    const subContainer = document.getElementById("subject-buttons");
    subContainer.innerHTML="";
    subjects.forEach(sub=>{
      const btn = document.createElement("button");
      btn.textContent=sub;
      btn.onclick=()=>chooseSubject(sub);
      subContainer.appendChild(btn);
    });
  }

  function backToClass(){
    document.getElementById("step1").style.display="block";
    document.getElementById("step2").style.display="none";
  }

  // Step 2: Pilih Mapel
  function chooseSubject(sub){
    selectedSubject=sub;
    userAnswers = Array(30).fill(null);
    currentQuestion = 0;
    document.getElementById("step2").style.display="none";
    document.getElementById("step3").style.display="block";
    document.getElementById("quiz-title").textContent = `Kelas ${selectedClass} - ${selectedSubject}`;
    showQuestion();
  }

  function showQuestion(){
    const qData = quizData[selectedClass][selectedSubject][currentQuestion];
    const container = document.getElementById("question-container");
    container.innerHTML = `<div class="question"><p>${currentQuestion+1}. ${qData.q}</p></div>`;
    qData.options.forEach(opt=>{
      const id = `q${currentQuestion}_${opt}`;
      const checked = userAnswers[currentQuestion]===opt ? "checked" : "";
      container.innerHTML += `<label><input type="radio" name="option" value="${opt}" ${checked}> ${opt}</label>`;
    });

    // simpan jawaban ketika pilih
    container.querySelectorAll('input[name="option"]').forEach(r=>{
      r.onchange = ()=>{
        userAnswers[currentQuestion]=r.value;
      }
    });
  }

  function nextQuestion(){
    if(currentQuestion<29){ currentQuestion++; showQuestion(); }
  }

  function prevQuestion(){
    if(currentQuestion>0){ currentQuestion--; showQuestion(); }
  }

  function submitQuiz(){
    const answers = quizData[selectedClass][selectedSubject].map(q=>q.answer);
    let score=0;
    for(let i=0;i<answers.length;i++){
      if(userAnswers[i]===answers[i]) score++;
    }
    document.getElementById("result").textContent = `âœ… Nilai kamu: ${score} / ${answers.length}`;
  }

  function restartQuiz(){
    document.getElementById("step3").style.display="none";
    document.getElementById("step2").style.display="block";
  }
</script>

</body>
</html>